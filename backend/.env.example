# ==============================================================
# Bank Transaction System — Environment Variable Reference
# Copy this file to .env and fill in real values.
# NEVER commit the .env file to version control.
# ==============================================================

# ----------------------------
# Server
# ----------------------------
PORT=3000
NODE_ENV=development

# HTTPS / TLS (required in production for banking security)
HTTPS_ENABLED=false
# SSL_KEY_PATH=/path/to/ssl/key.pem
# SSL_CERT_PATH=/path/to/ssl/cert.pem
# TRUST_PROXY=true   # enable if running behind nginx / a reverse proxy

# ----------------------------
# MongoDB
# ----------------------------
# IMPORTANT: In production, always use TLS/SSL and authentication.
# Append: ?retryWrites=true&w=majority&tls=true
MONGO_URI=YOUR LOCAL MONGO URI
# Atlas example (replace YOUR_USERNAME, YOUR_PASSWORD, and YOUR_CLUSTER_ID with real values):
# MONGO_URI=mongodb+srv://YOUR_USERNAME:YOUR_PASSWORD@YOUR_CLUSTER_ID.mongodb.net/bank-transaction-system?retryWrites=true&w=majority&tls=true

# ----------------------------
# JWT
# ----------------------------
# Generate a strong random secret (min 32 chars):
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=REPLACE_WITH_A_STRONG_RANDOM_SECRET_MIN_32_CHARS

# JWT token expiration (use short durations for banking security)
JWT_EXPIRES_IN=15m
# Refresh token expiration
JWT_REFRESH_EXPIRES_IN=7d

# ----------------------------
# Email / SMTP  (nodemailer)
# ----------------------------
# Set DISABLE_EMAILS=true in development to prevent actual sends.
DISABLE_EMAILS=true

SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=no-reply@example.com
# Use an app-specific password, not your login password.
SMTP_PASS=REPLACE_WITH_SMTP_APP_PASSWORD
EMAIL_FROM=no-reply@example.com

# Legacy OAuth2 fields (kept for backward compatibility — prefer SMTP above)
# EMAIL_USER=
# CLIENT_ID=
# CLIENT_SECRET=
# REFRESH_TOKEN=

# ----------------------------
# Rate Limiting
# ----------------------------
# Auth routes  (login / register / logout)
# Banking standard: 5 attempts max to prevent brute-force attacks
AUTH_RATE_LIMIT_WINDOW_MIN=15
AUTH_RATE_LIMIT_MAX=5

# Transfer / transaction creation route
TRANSFER_RATE_LIMIT_WINDOW_MIN=15
TRANSFER_RATE_LIMIT_MAX=10
